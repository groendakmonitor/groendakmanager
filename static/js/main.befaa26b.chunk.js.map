{"version":3,"sources":["misc/authentication.ts","components/pages/Login/styles/groendak.jpg","components/pages/Login/Login.tsx","components/misc/Header.tsx","components/misc/Page.tsx","components/misc/Loading.tsx","components/pages/Overview/CustomerDetails/ThemeSelector.tsx","components/pages/Overview/CustomerDetails/CustomerDetails.tsx","components/pages/Overview/CustomerList/CustomerRow.tsx","components/pages/Overview/CustomerList/CustomerList.tsx","components/pages/Overview/WaterList/WaterRow.tsx","components/pages/Overview/WaterList/WaterList.tsx","components/pages/Overview/UpdatesCard/UpdateRow.tsx","components/pages/Overview/UpdatesCard/UpdatesList.tsx","components/pages/Overview/UpdatesCard/UpdatesCard.tsx","components/pages/Overview/BiodiversityCard/BiodiversityRow.tsx","components/pages/Overview/BiodiversityCard/BiodversityCard.tsx","components/pages/Overview/Overview.tsx","components/App/App.tsx","reportWebVitals.ts","index.tsx"],"names":["getAuthToken","localStorage","getItem","getAuthHeader","Login","useLocation","setLocation","useState","password","setPassword","className","src","img","alt","type","onChange","e","currentTarget","value","onClick","fetch","process","method","headers","body","JSON","stringify","then","response","status","console","warn","text","token","setItem","Header","props","title","children","Page","Loading","role","aria-hidden","ThemeSelector","theme","renderOption","which","selected","CustomerDetails","data","onUpdateCustomer","onDeleteCustomer","current","setCurrent","useEffect","handleChange","event","name","ref","useRef","searchRef","map","center","location","toLatLong","lat","lng","google","maps","Map","mapTypeId","MapTypeId","ROADMAP","mapTypeControl","streetViewControl","fullscreenControl","zoom","marker","Marker","position","getCenter","addListener","c","setPosition","input","searchBox","places","SearchBox","controls","ControlPosition","TOP_LEFT","push","setBounds","getBounds","getPlaces","length","bounds","LatLngBounds","forEach","place","geometry","viewport","union","extend","log","fitBounds","id","placeholder","min","roof_size","roof_thickness","style","width","height","split","i","Number","CustomerRow","date","last_water","Date","toLocaleString","CustomerList","selectedCustomer","onCustomerSelect","scope","WaterRow","incoming","outgoing","onAddWater","addingWater","setAddingWater","aW","target","Math","random","icon","faRandom","UpdateRow","onDelete","debounced","useDebouncedCallback","defaultChecked","enabled","checked","defaultValue","cols","UpdatesList","UpdatesCard","setData","json","confirm","monthNames","BiodiversityRow","date_month","date_day","biodiversity","setValue","newValue","BiodiversityCard","bd","Overview","setSelectedCustomer","loading","setLoading","selectedCustomerWater","setSelectedCustomerWater","auth","catch","prompt","customerData","WaterList","in","out","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.befaa26b.chunk.js","sourcesContent":["export const getAuthToken = () => {\n  return localStorage.getItem(\"token\");\n}\n\nexport const setAuthToken = (token: string) => {\n  localStorage.setItem(\"token\", token);\n}\n\n// Convenience function, returns header to pass to `fetch` api\nexport const getAuthHeader = () => {\n  return ['x-auth-token', getAuthToken()!]\n}","export default __webpack_public_path__ + \"static/media/groendak.8ad2a181.jpg\";","import { setAuthToken } from \"misc/authentication\";\nimport { useState } from \"react\";\nimport useLocation from \"wouter/use-location\";\nimport img from './styles/groendak.jpg';\n\nconst Login = () => {\n\n  const [_location, setLocation] = useLocation();\n  const [password, setPassword] = useState<string>(\"safehouse ominous overdrive\")\n\n  const handleLogin = () => {\n    fetch(`${process.env.REACT_APP__API_URL}/login`, {\n      method: 'post',\n      headers: [['Content-Type', 'application/json']],\n      body: JSON.stringify({\n        password\n      })\n    }).then((response) => {\n      if(response.status === 401) {\n        console.warn(\"WRONG PW\")\n      } else {\n        response.text().then((response) => {\n          setAuthToken(response);\n          setLocation(\"/\");\n\n        });\n      }\n    })\n  }\n\n  return (\n    <div className=\"container d-flex justify-content-center align-items-center vh-100\">\n      <div className=\"col col-md-4 user-form py-4 d-flex flex-column\">\n        <div className=\"card\">\n          <img src={img} className=\"card-img-top\" alt=\"Welcome\" />\n          <div className=\"card-body\">\n            <h3 className=\"text-center\">Log in to groendakmonitor</h3>\n            <form>\n              <div className=\"mt-5\">\n                <div className=\"form-group\">\n                  <label className=\"form-label text-start w-100\">\n                    Password\n                    <input type=\"password\" className=\"form-control mt-2\" onChange={(e) => {setPassword(e.currentTarget.value)}} value={password} />              \n                  </label>\n                </div>\n              </div>\n            </form>\n            <div className=\"form-group\">\n              <button className=\"w-100 btn btn-success\" onClick={handleLogin} >\n                Login\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>  \n    </div>\n  )\n}\n\nexport default Login;","import { PropsWithChildren } from \"react\";\n\ninterface Props {\n  title: string\n}\n\nconst Header = (props: PropsWithChildren<Props>) => {\n  const { title, children } = props;\n  return (\n    <div className=\"page-header page-header-light\">\n      <div className=\"page-header-content container header-elements-inline\">\n        <div className=\"page-title d-flex\">\n          <h2 className=\"font-weight-semibold ml-2\">{title}</h2>\n        </div>\n        <div className=\"header-elements\">\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\nexport default Header;\n","import { PropsWithChildren } from \"react\";\n\nconst Page = (props: PropsWithChildren<{}>) => {\n  const { children } = props\n  return (\n    <div className=\"page-content\">\n      <div className=\"content-wrapper\">\n        {children}\n      </div> \n    </div> \n  )\n}\nexport default Page;\n","const Loading = () => {\n  return (\n    <div className=\"d-flex justify-content-between m-3\">\n      <strong>Loading...</strong>\n      <div className=\"spinner-border ms-auto text-info\" role=\"status\" aria-hidden=\"true\"></div>\n    </div>\n  )\n}\nexport default Loading;\n","import React from \"react\";\nimport { Theme } from \"static/theme\";\n\ninterface Props {\n  theme: Theme;\n  onChange: (theme: Theme) => void;\n}\n\nconst ThemeSelector = (props: Props) => {\n  const {theme, onChange} = props;\n  // groendakmonitor is the default\n  const renderOption = (which: Theme) => <option selected={which === theme || (which === \"groendakmonitor\" && !theme)}>{which}</option>;\n  return (\n    <select className=\"form-control\" onChange={(e) => onChange(e.currentTarget.value as Theme)}>\n      {renderOption(\"groendakmonitor\")}\n      {renderOption(\"zinco\")}\n    </select>\n  )\n}\n\nexport default ThemeSelector;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { CustomerData } from \"models/customer\";\nimport ThemeSelector from \"./ThemeSelector\";\nimport { Theme } from \"static/theme\";\n\ninterface Props {\n  data: CustomerData;\n\n  onUpdateCustomer: (data: CustomerData) => void;\n  onDeleteCustomer: () => void;\n}\n\nconst CustomerDetails = (props: Props) => {\n  const { data, onUpdateCustomer, onDeleteCustomer } = props;\n  const [current, setCurrent] = useState(data);\n\n  useEffect(() => {\n    setCurrent(data)\n  }, [data]);\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setCurrent({\n      ...current,\n      [event.currentTarget.name]: event.currentTarget.value\n    })\n  }\n\n  const handleSaveClick = () => {\n    onUpdateCustomer(current);\n  }\n  const handleDeleteClick = () => {\n    onDeleteCustomer();\n  }\n\n  const ref = useRef<HTMLDivElement>(null)\n  const searchRef = useRef<HTMLInputElement>(null)\n\n  useEffect(() => {\n    let map: google.maps.Map;\n    const center: google.maps.LatLngLiteral = ! data.location ? {lat: 51.99954706308361, lng: 4.363697780523488} : toLatLong(data.location)\n\n    map = new google.maps.Map(ref.current!, {\n      center,\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\n      mapTypeControl: false,\n      streetViewControl: false,\n      fullscreenControl: false,\n      zoom: 11\n    });\n\n    const marker = new google.maps.Marker({\n      map,\n      // icon,\n      title: \"LOCATION\",\n      position: map.getCenter(),\n    })\n\n    map.addListener(\"center_changed\", () => {\n      setCurrent(c => ({\n        ...c,\n        location: `${map.getCenter().lat()},${map.getCenter().lng()}`\n      }))\n   \n  \n      marker.setPosition(map.getCenter())\n    });\n      \n\n    // Create the search box and link it to the UI element.\n  const input = searchRef.current!;\n  const searchBox = new google.maps.places.SearchBox(input);\n  map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\n\n  // Bias the SearchBox results towards current map's viewport.\n  map.addListener(\"bounds_changed\", () => {\n    searchBox.setBounds(map.getBounds() as google.maps.LatLngBounds);\n  });\n\n  // [START maps_places_searchbox_getplaces]\n  // Listen for the event fired when the user selects a prediction and retrieve\n  // more details for that place.\n  searchBox.addListener(\"places_changed\", () => {\n    const places = searchBox.getPlaces();\n\n    if (places.length === 0) {\n      return;\n    }\n\n  \n    // For each place, get the icon, name and location.\n    const bounds = new google.maps.LatLngBounds();\n    places.forEach((place) => {\n      if (!place.geometry) {\n        console.log(\"Returned place contains no geometry\");\n        return;\n      }\n\n      if (place.geometry.viewport) {\n        // Only geocodes have viewport.\n        bounds.union(place.geometry.viewport);\n      } else {\n        bounds.extend(place.geometry.location);\n      }\n    });\n    map.fitBounds(bounds);\n  });\n\n  }, [data.location]);\n\n  const handleThemeChange = (theme: Theme) => {\n    setCurrent({\n      ...current,\n      theme\n    })\n  }\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <fieldset>\n           <legend className=\"text-uppercase font-size-sm font-weight-bold d-flex justify-content-between\">\n            <span className=\"d-block\">Customer details</span>\n            <span className=\"d-block badge badge-info\">ID: {data.id}</span>\n          </legend>\n          <div className=\"form-group row\">\n            <label className=\"col-form-label col-lg-3\">Name</label>\n            <div className=\"col-lg-9\">\n              <div className=\"input-group\">\n                <input type=\"text\" className=\"form-control\" value={current.name} onChange={handleChange} name=\"name\" placeholder=\"name\" />\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group row\">\n            <label className=\"col-form-label col-lg-3\">Password</label>\n            <div className=\"col-lg-9\">\n              <div className=\"input-group\">\n                <input type=\"text\" className=\"form-control\" value={current.password} onChange={handleChange} name=\"password\" placeholder=\"password\" />\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group row\">\n            <label className=\"col-form-label col-lg-3\">Roof size</label>\n            <div className=\"col-lg-9\">\n              <div className=\"input-group\">\n                <input type=\"number\" min=\"0\" className=\"form-control\" value={current.roof_size} onChange={handleChange} name=\"roof_size\" placeholder=\"roof size\" />\n                <span className=\"input-group-append\">\n                  <span className=\"input-group-text\">m2</span>\n                </span>\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group row\">\n            <label className=\"col-form-label col-lg-3\">Roof thickness</label>\n            <div className=\"col-lg-9\">\n              <div className=\"input-group\">\n                <input type=\"number\" min=\"0\" className=\"form-control\" value={current.roof_thickness} onChange={handleChange} name=\"roof_thickness\" placeholder=\"roof thickness\" />\n                <span className=\"input-group-append\">\n                  <span className=\"input-group-text\">cm</span>\n                </span>\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group row\">\n            <label className=\"col-form-label col-lg-3\">Location</label>\n            <div className=\"col-lg-9\">\n              <div className=\"input-group\">\n                <input type=\"text\" className=\"form-control\" ref={searchRef}/>\n                <div ref={ref} style={{ width: '100%', height: 200 }} />\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group row\">\n            <label className=\"col-form-label col-lg-3\">Theme</label>\n            <div className=\"col-lg-9\">\n              <div className=\"input-group\">\n                <ThemeSelector theme={current.theme} onChange={handleThemeChange} />\n              </div>\n            </div>\n          </div>\n        </fieldset> \n      </div>\n      <div className=\"card-footer d-flex justify-content-between\">\n        <button type=\"submit\" className=\"btn btn-light\" onClick={handleDeleteClick}>Delete</button>\n        <div>\n          <button type=\"button\" className=\"ml-2 btn btn-primary\" onClick={handleSaveClick}>\n            Save\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CustomerDetails;\n\nconst toLatLong = (input: string): google.maps.LatLngLiteral => {\n  const [lat, lng] = input.split(\",\").map(i => Number(i));\n  return { lat, lng }\n}","import { CustomerData, CustomerListData } from \"models/customer\";\n\ninterface Props {\n  data: CustomerListData;\n  selected?: boolean;\n\n  onClick: (customer: CustomerData) => void\n}\n\nconst CustomerRow = (props: Props) => {\n  const { data, selected, onClick } = props;\n  const date = data.last_water ? new Date(data.last_water).toLocaleString() : \"-\";\n\n  return (\n    <tr onClick={() => onClick(data)} className={selected ? \"selected\" : \"\"}>\n      <td>\n        <span className=\"d-block badge badge-info\">ID: {data.id}</span>\n      </td>\n      <td>{data.name}</td>\n      <td>{date}</td>\n    </tr>\n  )\n}\nexport default CustomerRow;\n\n","import { CustomerData, CustomerListData } from \"models/customer\";\nimport React from \"react\";\nimport CustomerRow from \"./CustomerRow\";\nimport './styles/customerList.scss';\n\ninterface Props {\n  data: CustomerListData[];\n  selectedCustomer?: CustomerData;\n\n  onCustomerSelect: (customer: CustomerData) => void\n}\n\nconst CustomerList = (props: Props) => {\n  const { data, selectedCustomer, onCustomerSelect } = props;\n  return (\n    <table className=\"table table-striped table-hover customer-list\">\n      <thead>\n        <tr>\n          <th scope=\"col\" style={{width: 32}}>#</th>\n          <th scope=\"col\">Name</th>\n          <th scope=\"col\">Last data</th>\n        </tr>\n      </thead>\n      <tbody>\n        {data.map((c) => \n          <CustomerRow key={c.id} data={c} onClick={onCustomerSelect} selected={selectedCustomer === c}/>\n        )}\n      </tbody>  \n    </table>\n  )\n}\nexport default CustomerList;\n\n","import { Water } from \"models/water\";\n\ninterface Props {\n  data: Water;\n}\n\nconst WaterRow = (props: Props) => {\n  const { data } = props;\n  const date = new Date(data.date).toLocaleString();\n\n  return (\n    <tr>\n      <td>{date}</td>\n      <td>{data.incoming}</td>\n      <td>{data.outgoing}</td>\n    </tr>\n  )\n}\nexport default WaterRow;\n\n","import { Water } from \"models/water\";\nimport React, { useState } from \"react\";\nimport WaterRow from \"./WaterRow\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faRandom } from '@fortawesome/free-solid-svg-icons'\n\ninterface Props {\n  data: Water[];\n  \n  onAddWater: (incoming: number, outgoing: number) => void;\n}\n\nconst CustomerList = (props: Props) => {\n  const { data, onAddWater } = props;\n  const [addingWater, setAddingWater] = useState({ incoming: 0, outgoing: 0})\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setAddingWater(aW => ({\n      ...aW,\n      [event.target.name]: event.target.value\n    }))\n  }\n\n  const handleAddClick = () => {\n    onAddWater(addingWater.incoming, addingWater.outgoing);\n  }\n\n  const handleRandomIncoming = () => {\n    setAddingWater(aW => ({\n      ...aW,\n      incoming: (Math.random() * 5)\n    }))\n  }\n\n  const handleRandomOutgoing = () => {\n    setAddingWater(aW => ({\n      ...aW,\n      outgoing: (Math.random() * 4) + aW.incoming\n    }))\n\n  }\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <table className=\"table table-striped table-hover\">\n          <thead>\n            <tr>\n              <th scope=\"col\" style={{width: 46}}>Date</th>\n              <th scope=\"col\">Incoming</th>\n              <th scope=\"col\">Outgoing</th>\n            </tr>\n          </thead>\n          <tbody>\n            {data.map((c) => \n              <WaterRow key={c.id} data={c}/>\n            )}\n          </tbody>  \n        </table>\n      </div>\n      <div className=\"card-footer d-flex justify-content-between\">\n        <div className=\"d-flex\">\n          <div className=\"col-6\">\n            <label className=\"form-label\">Incoming</label>\n            <div className=\"input-group\">\n              <input type=\"number\" className=\"form-control\" name=\"incoming\" value={addingWater.incoming} onChange={handleChange} placeholder=\"Incoming\"/>\n              <span className=\"input-group-append\">\n                <button className=\"btn btn-primary\" onClick={handleRandomIncoming}>\n                  <FontAwesomeIcon icon={faRandom} />\n                </button>\n              </span>\n            </div>\n          </div>\n          <div className=\"col-6\">\n            <label className=\"form-label\">Outgoing</label>\n            <div className=\"input-group\">\n              <input type=\"number\" className=\"form-control\" name=\"outgoing\" value={addingWater.outgoing} onChange={handleChange} placeholder=\"Outgoing\"/>\n              <span className=\"input-group-append\">\n                <button className=\"btn btn-primary\" onClick={handleRandomOutgoing}>\n                  <FontAwesomeIcon icon={faRandom} />\n                </button>\n              </span>\n            </div>\n          </div>\n        </div>\n        <div className=\"d-flex align-items-end\">\n          <button type=\"button\" className=\"ml-2 btn btn-primary\" onClick={handleAddClick}>\n            Add\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\nexport default CustomerList;\n\n","import { getAuthHeader } from \"misc/authentication\";\nimport { CustomerData, CustomerListData } from \"models/customer\";\nimport { UpdateData } from \"models/update\";\nimport React from \"react\";\nimport { useDebouncedCallback } from 'use-debounce';\nimport \"./styles/updateRow.scss\";\n\ninterface Props {\n  data: UpdateData;\n\n  onChange: (data: UpdateData) => void;\n  onDelete: (id: number) => void;\n}\n\nconst UpdateRow = (props: Props) => {\n  // const { data, selected, onClick } = props;\n  const { data, onChange, onDelete } = props;\n\n  const debounced = useDebouncedCallback((text: string) => {\n    onChange({ ...data, text })\n  }, 500);\n\n  return (\n    <tr className=\"update-row\">\n      <td>\n        <span className=\"d-block\">\n          <input type=\"checkbox\" defaultChecked={data.enabled} onChange={(e) => onChange({ ...data, enabled: e.target.checked })}></input>\n        </span>\n      </td>\n      <td className=\"col-text\">\n        <textarea onChange={(e) => debounced(e.target.value)} defaultValue={data.text} cols={3}></textarea>\n      </td>\n      <td className=\"col-delete\">\n        <button type=\"button\" className=\"btn btn-light\" onClick={() => onDelete(data.id)}>🗑️</button>        \n      </td>\n    </tr>\n  )\n}\nexport default UpdateRow;\n\n","import { PropsWithChildren } from \"react\";\nimport { UpdateData } from \"models/update\";\nimport UpdateRow from \"./UpdateRow\";\n// import './styles/customerList.scss';\n\ninterface Props {\n  data: UpdateData[];\n\n  onChange: (data: UpdateData) => void;\n  onDelete: (id: number) => void;\n}\n\nconst UpdatesList = (props: PropsWithChildren<Props>) => {\n  const { data, children, onDelete, onChange} = props;\n  \n  return (\n    <table className=\"table table-striped table-hover customer-list\">\n      <thead>\n        <tr>\n          <th scope=\"col\" style={{width: 32}}>Active</th>\n          <th scope=\"col\">Text</th>\n          <th scope=\"col\"></th>\n        </tr>\n      </thead>\n      <tbody>\n        {children}\n        {data.map((c) => \n          <UpdateRow key={c.id} data={c} onChange={onChange} onDelete={onDelete}/>\n        )}\n      </tbody>  \n    </table>\n  )\n}\nexport default UpdatesList;\n\n","import { getAuthHeader } from \"misc/authentication\"\nimport { UpdateData } from \"models/update\"\nimport React, { useEffect, useState } from \"react\"\nimport UpdatesList from \"./UpdatesList\"\n\nconst UpdatesCard = () => {\n  const [data, setData] = useState<UpdateData[]>()\n\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP__API_URL}/updates`, {\n      method: 'get',\n      headers: [['Content-Type', 'application/json']],\n    })\n    .then((response) => response.json())\n    .then((response) => {\n      setData(response);\n    })\n  }, []);\n  \n  const handleAdd = () => {\n    fetch(`${process.env.REACT_APP__API_URL}/update`, {\n      method: 'post',\n      headers: [['Content-Type', 'application/json'], getAuthHeader()],\n    }).then<UpdateData[]>((response) => response.json())\n    .then((response) => {\n      setData(response);\n    })\n  }\n\n  const handleChange = (data: UpdateData) => {\n    fetch(`${process.env.REACT_APP__API_URL}/update`, {\n      method: 'put',\n      headers: [['Content-Type', 'application/json'], getAuthHeader()],\n      body: JSON.stringify(data)\n    })\n  }\n\n  const handleDelete = (id: number) => {\n    // eslint-disable-next-line no-restricted-globals\n    if (confirm(\"Are you sure?\")) {\n      fetch(`${process.env.REACT_APP__API_URL}/update/${id}`, {\n        method: 'delete',\n        headers: [['Content-Type', 'application/json'], getAuthHeader()],\n      }).then<UpdateData[]>((response) => response.json())\n      .then((response) => {\n        setData(response);\n      })\n    }\n  }\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header d-flex justify-content-between\">\n        <h3>Updates</h3>              \n      </div>\n      <div className=\"card-body p-0\">\n        { data && <UpdatesList data={data} onDelete={handleDelete} onChange={handleChange} /> }\n      </div>\n      <div className=\"card-footer\">\n        <button type=\"button\" className=\"btn btn-success px-3 float-right mr-2\" onClick={handleAdd}>Add</button>\n      </div>\n    </div>\n  )\n}\n\nexport default UpdatesCard;","import { BiodiversityData } from \"models/biodiversity\"\nimport { ChangeEvent, useState } from \"react\";\nconst monthNames = [\n  \"january\",\n  \"february\",\n  \"march\",\n  \"april\",\n  \"may\",\n  \"june\",\n  \"july\",\n  \"august\",\n  \"september\",\n  \"october\",\n  \"november\",\n  \"december\"\n];\n\ninterface Props {\n  data: BiodiversityData\n  onChange: (name: string, value: number) => void;\n}\n\nconst BiodiversityRow = (props: Props) => {\n  const { data, onChange } = props;\n  const text = `${data.name} (${monthNames[data.date_month]} ${data.date_day})`\n  const [value, setValue] = useState(data.biodiversity);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const newValue = Number(e.currentTarget.value);\n    setValue(newValue);\n    onChange(data.name, newValue);\n  }\n  return (\n    <tr>\n      <td>{text}</td>\n      <td>\n        <input type=\"number\" value={value} onChange={handleChange} />\n      </td>\n    </tr>\n  )\n}\n\nexport default BiodiversityRow;","\nimport { getAuthHeader } from \"misc/authentication\"\nimport { BiodiversityData } from \"models/biodiversity\"\nimport { UpdateData } from \"models/update\"\nimport React, { useEffect, useState } from \"react\"\nimport BiodiversityRow from \"./BiodiversityRow\"\n\nconst BiodiversityCard = () => {\n  const [data, setData] = useState<BiodiversityData[]>()\n\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP__API_URL}/biodiversity`, {\n      method: 'get',\n      headers: [['Content-Type', 'application/json'], getAuthHeader()],\n    })\n    .then((response) => response.json())\n    .then((response) => {\n      setData(response);\n    })\n  }, []);\n  \n  const handleChange = (name: string, biodiversity: number) => {\n    fetch(`${process.env.REACT_APP__API_URL}/biodiversity`, {\n      method: 'put',\n      headers: [['Content-Type', 'application/json'], getAuthHeader()],\n      body: JSON.stringify({\n        name,\n        biodiversity\n      })\n    })\n  }\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header d-flex justify-content-between\">\n        <h3> Biodiversity</h3>              \n      </div>\n      <div className=\"card-body p-0\">\n        <table className=\"table table-striped table-hover customer-list\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Season</th>\n            <th scope=\"col\">Biodiversity</th>\n          </tr>\n        </thead>\n        <tbody>\n        { data?.map((bd) => (<BiodiversityRow data={bd} onChange={handleChange} />)) }\n        </tbody>  \n      </table>\n      </div>\n    </div>\n  )\n}\n\nexport default BiodiversityCard;","import { getAuthHeader, getAuthToken } from \"misc/authentication\";\nimport Header from \"components/misc/Header\";\nimport Page from \"components/misc/Page\";\nimport { Water } from \"models/water\";\nimport React, { useEffect, useState } from \"react\";\nimport useLocation from \"wouter/use-location\";\nimport { CustomerData, CustomerListData } from \"../../../models/customer\";\nimport Loading from \"../../misc/Loading\";\nimport CustomerDetails from \"./CustomerDetails\";\nimport CustomerList from \"./CustomerList\";\nimport WaterList from \"./WaterList\";\nimport UpdatesCard from \"./UpdatesCard\";\nimport BiodiversityCard from \"./BiodiversityCard\";\n\nconst Overview = () => {\n  const [_location, setLocation] = useLocation();\n  const [data, setData] = useState<CustomerListData[]>()\n  const [selectedCustomer, setSelectedCustomer] = useState<CustomerData>()\n  const [loading, setLoading] = useState(false);\n  const [selectedCustomerWater, setSelectedCustomerWater] = useState<Water[]>()\n  \n  useEffect(() => {\n    const token = getAuthToken();\n    if (!token) {\n      setLocation(\"/login\");\n      return;\n    }\n    setLoading(true)\n    fetch(`${process.env.REACT_APP__API_URL}/customers`, {\n      method: 'get',\n      headers: [['Content-Type', 'application/json'], getAuthHeader()],\n    })\n    .then((response) => response.json())\n    .then((response) => {\n      if (response.auth === false) {\n        setLocation(\"/login\");\n      } else {\n        setData(response);\n      }\n      setLoading(false)\n    })\n    .catch((e) => {\n    } )\n  }, [setLocation]);\n\n  const handleAddCustomer = () => {\n    const name = prompt(\"Enter customer name\");\n    if (name) {\n      setLoading(true)\n      fetch(`${process.env.REACT_APP__API_URL}/customer`, {\n        method: 'post',\n        headers: [['Content-Type', 'application/json'], getAuthHeader()],\n        body: JSON.stringify({\n          name\n        })\n      }).then<CustomerListData[]>((response) => response.json())\n      .then((response) => {\n        setData(response);\n        setLoading(false);\n      })\n    }\n  }\n\n  const handleUpdateCustomer = (customerData: CustomerData) => {\n    setLoading(true);\n    // Update customer on backend\n    fetch(`${process.env.REACT_APP__API_URL}/customer`, {\n      method: 'put',\n      headers: [['Content-Type', 'application/json'], getAuthHeader()],\n      body: JSON.stringify(customerData)\n    }).then<CustomerListData[]>((response) => response.json())\n    .then((response) => {\n      setData(response);\n      setLoading(false);\n    })\n  }\n\n  const handleDeleteCustomer = () => {\n    if (selectedCustomer){\n      // eslint-disable-next-line no-restricted-globals\n      if (confirm(`Are you sure you want to delete customer \"${selectedCustomer.name}\" (id: ${selectedCustomer.id}) with ${selectedCustomerWater?.length} water data points` )){\n        console.log('go!')\n      }\n    }\n  }\n\n  useEffect(() => {\n    // Fetch water for selected customer\n    if (selectedCustomer) {\n      fetch(`${process.env.REACT_APP__API_URL}/water/${selectedCustomer.id}`, {\n        method: 'get',\n        headers: [['Content-Type', 'application/json'], getAuthHeader()],\n      })\n      .then<Water[]>((response) => response.json())\n      .then((response) => {\n        setSelectedCustomerWater(response);\n      })\n    }\n  },[selectedCustomer]);\n\n  const handleAddingWater = (incoming: number, outgoing: number) => {\n    if (selectedCustomer) {\n      fetch(`${process.env.REACT_APP__API_URL}/water`, {\n        method: 'post',\n        headers: [['Content-Type', 'application/json'], getAuthHeader()],\n        body: JSON.stringify({\n          id: selectedCustomer.id,\n          in: incoming,\n          out: outgoing\n        })\n      }).then(() => {\n        // fetch water\n        if (selectedCustomer) {\n          fetch(`${process.env.REACT_APP__API_URL}/water/${selectedCustomer.id}`, {\n            method: 'get',\n            headers: [['Content-Type', 'application/json'], getAuthHeader()],\n          })\n          .then<Water[]>((response) => response.json())\n          .then((response) => {\n            setSelectedCustomerWater(response);\n          })\n        }\n      })\n    }\n  }\n\n  return (\n    <Page>\n      <Header title=\"Customers\">\n        <button type=\"button\" className=\"btn btn-success\" onClick={handleAddCustomer}>Add customer</button>\n      </Header>\n      <div className=\"container mt-4\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <div className=\"card\">\n              <div className=\"card-header d-flex justify-content-between\">\n                <h3>Customers</h3>              \n              </div>\n              <div className=\"card-body p-0\">\n              { loading && <Loading />}\n              { data && <CustomerList data={data} onCustomerSelect={setSelectedCustomer} selectedCustomer={selectedCustomer} /> }\n              </div>\n            </div>\n            <UpdatesCard />\n            <BiodiversityCard />\n          </div>\n          <div className=\"col\">\n            { selectedCustomer && <CustomerDetails data={selectedCustomer} onUpdateCustomer={handleUpdateCustomer} onDeleteCustomer={handleDeleteCustomer}/> }\n            { selectedCustomerWater && <WaterList data={selectedCustomerWater} onAddWater={handleAddingWater} />}\n          </div>\n        </div>\n      </div>\n    </Page>\n  )\n}\n\nexport default Overview;","import Login from 'components/pages/Login/Login';\nimport Overview from 'components/pages/Overview';\nimport React from 'react';\nimport { Route, Switch } from 'wouter';\nimport './app.css';\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Switch>\n        <Route path=\"/login\">\n          <Login />\n        </Route>\n        <Route>\n          <Overview />\n        </Route> \n      </Switch>\n      \n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nimport 'assets/scss/bootstrap.scss';\nimport 'assets/scss/bootstrap_limitless.scss';\n\nimport 'assets/scss/colors.scss';\nimport 'assets/scss/components.scss';\nimport 'assets/scss/layout.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}